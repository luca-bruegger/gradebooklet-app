<ion-content [fullscreen]="false" [forceOverscroll]="false">
    <ion-grid>
        <ion-row>
            <ion-col class="ion-align-self-center" offset-lg="4" offset-md="2" sizeLg="4" size-md="8"
                     *ngIf="!signInStarted">
                <ion-row class="ion-margin-bottom">
                    <ion-col size-lg="8" size-md="8">
                        <img src="assets/images/logo-{{ isDark ? 'light' : 'dark' }}.png"/>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col>
                        <form [formGroup]="registerFormGroup">
                            <ion-item>
                                <ion-label position="floating">Anzeigenamen</ion-label>
                                <ion-input maxlength="30" minlength="3" formControlName="displayName" class="ion-valid"></ion-input>
                            </ion-item>
                            <small class="ion-margin-bottom">* zwischen drei und 30 Buchstaben</small>
                            <ion-item class="ion-margin-top">
                                <ion-label position="floating">Email</ion-label>
                                <ion-input type="email" maxlength="50" formControlName="email" autocomplete="email"></ion-input>
                            </ion-item>
                            <ion-item detail-icon="eye">
                                <ion-label position="floating">Password</ion-label>
                                <ion-input id="new-password-text-field" type="{{isPasswordVisible ? 'text' : 'password'}}" maxlength="50" minlength="8" formControlName="password" autocomplete="new-password"></ion-input>
                                <ion-icon style="padding-top: 7px;" slot="end" name="{{isPasswordVisible ? 'eye-off' : 'eye'}}" (click)="changeMode()"></ion-icon>
                            </ion-item>
                            <small>* min. 8 Zeichen, Gross- und Kleinbuchstaben sowie Ziffern.</small>
                            <ion-item class="ion-margin-top">
                                <ion-label position="floating">Password Bestätigen</ion-label>
                                <ion-input id="confirm-password-text-field" type="password" maxlength="50" minlength="8" formControlName="passwordConfirmation"></ion-input>
                            </ion-item>
                            <password-strength-meter [password]="registerFormGroup.get('password').value" [enableFeedback]="true"></password-strength-meter>
                        </form>
                    </ion-col>
                </ion-row>
                <ion-button [disabled]="!formValid()" (click)="registerUser()" expand="block" color="primary" class="ion-margin-bottom ion-margin-top">
                    Registrieren
                </ion-button>

                <span class="divider line one-line">oder</span>

                <ion-button (click)="navigateBackToLogin()" expand="block" fill="outline" color="primary">
                    Zurück
                </ion-button>

            </ion-col>
            <ion-col class="ion-align-self-center ion-text-center" size="12" *ngIf="signInStarted">
                <ion-row class="ion-margin-bottom">
                    <ion-col size-lg="8" size-md="8">
                        <img src="assets/images/logo-{{ isDark ? 'light' : 'dark' }}.png"/>
                    </ion-col>
                </ion-row>
                <ion-spinner name="crescent"></ion-spinner>
                <br>
                <ion-text>Signing In...</ion-text>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>